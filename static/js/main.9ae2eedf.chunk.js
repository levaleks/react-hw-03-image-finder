(this["webpackJsonpreact-hw-03-image-finder"]=this["webpackJsonpreact-hw-03-image-finder"]||[]).push([[0],{26:function(n,e,t){n.exports=t(73)},31:function(n,e,t){},73:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),o=t(5),i=t.n(o),c=(t(31),t(20)),s=t.n(c);const l=s.a.create(),u=new class{constructor(n){this.httpClient=n}async findImages(n){const e=new URLSearchParams;Object.entries({key:"".concat(""),...n}).forEach(([n,t])=>{e.append(n,String(t))});const{data:t}=await this.httpClient.get("".concat("https://pixabay.com/api","/?").concat(e.toString()));return t}}(l);var p=t(1),g=t(2);function d(){const n=Object(p.a)(["\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-gap: 16px;\n    padding-bottom: ",";\n"]);return d=function(){return n},n}const h=g.a.div(d(),n=>n.isFullHeight?"0":"24px");function m(){const n=Object(p.a)(["\n    display: inline-block;\n    width: 100%;\n    font: inherit;\n    font-size: 20px;\n    border: none;\n    outline: none;\n    padding-left: 4px;\n    padding-right: 4px;\n\n    &::placeholder {\n        font: inherit;\n        font-size: 18px;\n    }\n"]);return m=function(){return n},n}function f(){const n=Object(p.a)(["\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    clip-path: inset(50%);\n    border: 0;\n"]);return f=function(){return n},n}function b(){const n=Object(p.a)(["\n    display: inline-block;\n    width: 48px;\n    height: 48px;\n    border: 0;\n    background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\n    background-size: 40%;\n    background-repeat: no-repeat;\n    background-position: center;\n    opacity: 0.6;\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    cursor: pointer;\n    outline: none;\n\n    &:hover {\n        opacity: 1;\n    }\n"]);return b=function(){return n},n}function x(){const n=Object(p.a)(["\n    display: flex;\n    align-items: center;\n    width: 100%;\n    max-width: 600px;\n    background-color: #fff;\n    border-radius: 3px;\n    overflow: hidden;\n"]);return x=function(){return n},n}function E(){const n=Object(p.a)(["\n    top: 0;\n    left: 0;\n    position: sticky;\n    z-index: 1100;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: ",";\n    padding: 12px 24px;\n    color: #fff;\n    background: ",";\n    box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14),\n        0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n    transition: 0.4s;\n"]);return E=function(){return n},n}const y=g.a.header(E(),n=>n.isFullHeight?"100vh":"64px",n=>n.isFullHeight?"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)":"#3f51b5"),w=g.a.form(x()),v=g.a.button(b()),j=g.a.span(f()),O=g.a.input(m()),k=({onSearch:n,isFullHeight:e})=>r.a.createElement(y,{isFullHeight:e},r.a.createElement(w,{onSubmit:e=>{e.preventDefault();const t=e.target.query.value.trim().replace(/\s{2,}/g," ");n(t)}},r.a.createElement(v,{type:"submit"},r.a.createElement(j,null,"Search")),r.a.createElement(O,{name:"query",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})));var S=t(24);function U(){const n=Object(p.a)(["\n    display: grid;\n    max-width: calc(100vw - 48px);\n    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n    grid-gap: 16px;\n    padding: 0;\n    list-style: none;\n    margin: 0 auto;\n"]);return U=function(){return n},n}const T=g.a.ul(U());function q(){const n=Object(p.a)(["\n    width: 100%;\n    height: 260px;\n    object-fit: cover;\n    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n    &:hover {\n        transform: scale(1.03);\n        cursor: zoom-in;\n    }\n"]);return q=function(){return n},n}function R(){const n=Object(p.a)(["\n    border-radius: 2px;\n    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 2px 1px -1px rgba(0, 0, 0, 0.12);\n"]);return R=function(){return n},n}const I=g.a.li(R()),_=g.a.img(q());function P(){const n=Object(p.a)(["\n    max-width: calc(100vw - 48px);\n    max-height: calc(100vh - 24px);\n    cursor: default;\n\n    img {\n        max-height: inherit;\n    }\n"]);return P=function(){return n},n}function F(){const n=Object(p.a)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: rgba(0, 0, 0, 0.8);\n    z-index: 1200;\n    cursor: pointer;\n"]);return F=function(){return n},n}const L=g.a.div(F()),z=g.a.div(P()),H=({isShowing:n,hide:e,children:t})=>(Object(a.useEffect)(()=>{const n=n=>{"Escape"===n.key&&e()};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[e]),n?Object(o.createPortal)(r.a.createElement(L,{onClick:e},r.a.createElement(z,{onClick:n=>{n.stopPropagation()}},t)),document.body):null);var D=t(25),C=t.n(D);t(72);function A(){const n=Object(p.a)(["\n    margin: 0 auto;\n"]);return A=function(){return n},n}const Q=g.a.div(A()),Y=()=>r.a.createElement(Q,null,r.a.createElement(C.a,{type:"ThreeDots",color:"#E33371",height:80,width:80})),B=({id:n,previewImgUrl:e,largeImgUrl:t,getRef:o})=>{const{isShowing:i,toggle:c}=(()=>{const[n,e]=Object(a.useState)(!1);return{isShowing:n,toggle:()=>{e(!n)}}})(),[s,l]=Object(a.useState)(!1),u=Object(a.useRef)(null);return Object(a.useEffect)(()=>{o&&o(u)},[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{ref:u},r.a.createElement(_,{src:e,alt:String(n),onClick:c})),r.a.createElement(H,{isShowing:i,hide:c},r.a.createElement("img",{src:t,alt:String(n),onLoad:()=>l(!0)}),!s&&r.a.createElement(Y,null)))},J=({images:n,perPage:e=20,onItemRef:t})=>{const o=Object(a.useMemo)(()=>{const a=Object(S.chunk)(n,e).length*e-e;return n.map(({id:n,webformatURL:e,largeImageURL:o},i)=>r.a.createElement(B,{key:n,id:n,previewImgUrl:e,largeImgUrl:o,getRef:i===a?t:void 0}))},[n,t,e]);return r.a.createElement(T,null,o)};function M(){const n=Object(p.a)(["\n    margin: 0 auto;\n    padding: 8px 16px;\n    border-radius: 2px;\n    background-color: #3f51b5;\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    text-align: center;\n    display: inline-block;\n    color: #fff;\n    border: 0;\n    text-decoration: none;\n    cursor: pointer;\n    font-family: inherit;\n    font-size: 18px;\n    line-height: 24px;\n    font-style: normal;\n    font-weight: 500;\n    min-width: 180px;\n    box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0px rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n\n    &:hover,\n    &:focus {\n        background-color: #303f9f;\n    }\n"]);return M=function(){return n},n}const N=g.a.button(M()),W=({children:n,...e})=>r.a.createElement(N,Object.assign({type:"button"},e),n);var $=t(7);const G={query:{q:"",image_type:"photo",orientation:"horizontal",page:"1",per_page:15},hits:[],isLoading:!1};let K;!function(n){n.SET_QUERY="SET_QUERY",n.UPDATE_QUERY="UPDATE_QUERY",n.UPDATE_HITS="UPDATE_HITS"}(K||(K={}));const V=(n,e)=>{switch(e.type){case K.SET_QUERY:return Object($.a)(G,n=>{e.payload.query.q&&(n.isLoading=!0),Object.assign(n.query,e.payload.query)});case K.UPDATE_QUERY:return Object($.a)(n,n=>{n.isLoading=!0,Object.assign(n.query,e.payload.query)});case K.UPDATE_HITS:return Object($.a)(n,n=>{n.isLoading=!1,n.hits.push(...e.payload.hits)});default:return n}},X=()=>{const[{isLoading:n,query:e,hits:t},o]=Object(a.useReducer)(V,G),i=Object(a.useCallback)(()=>{const n=String(Number(e.page)+1);o({type:K.UPDATE_QUERY,payload:{query:{page:n}}})},[e.page]);Object(a.useEffect)(()=>{e.q&&(async()=>{const{hits:n}=await u.findImages(e);o({type:K.UPDATE_HITS,payload:{hits:n||[]}})})()},[e]);const c=Object(a.useCallback)(n=>{window.scrollTo({top:n.current.offsetTop-Number.parseInt("64px",10)-20,behavior:"smooth"})},[]);return r.a.createElement(h,{isFullHeight:!e.q&&!t.length},r.a.createElement(k,{onSearch:n=>{o({type:K.SET_QUERY,payload:{query:{q:n}}})},isFullHeight:!e.q&&!t.length}),r.a.createElement(J,{images:t,perPage:e.per_page,onItemRef:c}),n&&r.a.createElement(Y,null),Boolean(!n&&t.length)&&r.a.createElement(W,{onClick:i},"Load more"))},Z=()=>r.a.createElement(X,null);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(n=>{n.unregister()}).catch(n=>{console.error(n.message)})}},[[26,1,2]]]);
//# sourceMappingURL=main.9ae2eedf.chunk.js.map